<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="210mm"
   height="297mm"
   viewBox="0 0 744.09448819 1052.3622047"
   id="svg2"
   version="1.1"
   inkscape:version="0.91 r13725"
   sodipodi:docname="cascaded_grid_position.svg">
  <defs
     id="defs4" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4142136"
     inkscape:cx="443.75552"
     inkscape:cy="367.52653"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="false"
     inkscape:window-width="1920"
     inkscape:window-height="1028"
     inkscape:window-x="1920"
     inkscape:window-y="0"
     inkscape:window-maximized="1" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 233.90258,272.71057 110.73414,0 -7e-5,111.10002 -110.73405,0 z"
       id="rect4136"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccccc" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4155"
       d="m 247.78997,383.4448 0,-110.36842"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4163"
       d="m 261.67747,383.4448 0,-110.36842"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 275.56498,383.4448 0,-110.36842"
       id="path4167"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4171"
       d="m 289.45248,383.4448 0,-110.36842"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 303.33998,383.4448 0,-110.36842"
       id="path4175"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 317.22749,383.4448 0,-110.36842"
       id="path4179"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4183"
       d="m 331.11499,383.4448 0,-110.36842"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 234.26826,286.59807 110.36842,0"
       id="path4214"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 234.26826,300.48558 110.36842,0"
       id="path4218"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4222"
       d="m 234.26826,314.37308 110.36842,0"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 234.26826,328.26058 110.36842,0"
       id="path4226"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4230"
       d="m 234.26826,342.14809 110.36842,0"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4234"
       d="m 234.26826,356.03559 110.36842,0"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 234.26826,369.92309 110.36842,0"
       id="path4238"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#cc0000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99999999, 0.99999999;stroke-dashoffset:0;stroke-opacity:1"
       d="m 233.67554,385.97308 0,9.4435 20.55351,0 0,-30.83026"
       id="path4363"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cccc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:11.78353596px;line-height:125%;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#a40000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="248.2664"
       y="408.508"
       id="text4365"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4367"
         x="248.2664"
         y="408.508">Margin m</tspan></text>
    <path
       style="fill:none;fill-rule:evenodd;stroke:#f57900;stroke-width:1.74999988;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 257.69771,359.93019 31.27653,-31.27653"
       id="path4369"
       inkscape:connector-curvature="0" />
    <path
       style="fill:#204a87;fill-opacity:1;stroke:#ffffff;stroke-width:0.37952605;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 247.96571,360.98176 a 2.3312576,2.3312576 0 0 0 -5.5e-4,3.29659 2.3312576,2.3312576 0 0 0 2.43044,0.5447 l -0.62066,0.62065 2.43658,2.43659 5.94874,-5.94875 -0.5892,-0.58919 1.87961,-0.70121 -2.43658,-2.43658 -0.70121,1.8796 -0.5892,-0.58919 -0.65441,0.6544 a 2.3312576,2.3312576 0 0 0 -0.54623,-2.4289 2.3312576,2.3312576 0 0 0 -3.29658,5.6e-4 2.3312576,2.3312576 0 0 0 -0.21175,3.04879 2.3312576,2.3312576 0 0 0 -3.04879,0.21173 z m 3.50909,0.24857 a 2.3312576,2.3312576 0 0 0 2.18187,0.33143 l -1.84891,1.84891 a 2.3312576,2.3312576 0 0 0 -0.33296,-2.18034 z"
       id="rect4279"
       inkscape:connector-curvature="0" />
    <text
       sodipodi:linespacing="125%"
       id="text4390"
       y="398.9256"
       x="331.17477"
       style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:11.78353596px;line-height:125%;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ce5c00;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       xml:space="preserve"><tspan
         y="398.9256"
         x="331.17477"
         id="tspan4392"
         sodipodi:role="line">Distance To Center d</tspan></text>
    <path
       style="fill:#fcaf3e;fill-rule:evenodd;stroke:#f57900;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.00000001, 1.00000001;stroke-dashoffset:0;stroke-opacity:1"
       d="M 301.86318,388.47282 269.64417,349.31007"
       id="path4394"
       inkscape:connector-curvature="0" />
    <path
       sodipodi:nodetypes="cccc"
       inkscape:connector-curvature="0"
       id="path4396"
       d="m 233.94381,265.36241 0,-6.06412 110.84462,0 0,6.06412"
       style="fill:none;fill-rule:evenodd;stroke:#4e9a06;stroke-width:0.99999982px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:11.78353596px;line-height:125%;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#4e9a06;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="284.79053"
       y="255.32886"
       id="text4398"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4400"
         x="284.79053"
         y="255.32886">Grid Size s</tspan></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot4410"
       style="fill:black;stroke:none;stroke-opacity:1;stroke-width:1px;stroke-linejoin:miter;stroke-linecap:butt;fill-opacity:1;font-family:'DejaVu Sans';font-style:normal;font-weight:200;font-size:20px;line-height:125%;letter-spacing:0px;word-spacing:0px;-inkscape-font-specification:'DejaVu Sans Ultra-Light';font-stretch:normal;font-variant:normal;"><flowRegion
         id="flowRegion4412"><rect
           id="rect4414"
           width="702.15704"
           height="149.19952"
           x="28.991379"
           y="326.87064"
           style="-inkscape-font-specification:'DejaVu Sans Ultra-Light';font-family:'DejaVu Sans';font-weight:200;font-style:normal;font-stretch:normal;font-variant:normal;font-size:20px;" /></flowRegion><flowPara
         id="flowPara4416" /></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot4418"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="matrix(0.5555001,0,0,0.5555001,32.957061,-41.830037)"><flowRegion
         id="flowRegion4420"><rect
           id="rect4422"
           width="1200.5081"
           height="197.42926"
           x="44.547726"
           y="357.27625" /></flowRegion><flowPara
         id="flowPara4424"
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:20px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light'"><flowSpan
   style="fill:#4e9a06"
   id="flowSpan4432">s</flowSpan> and <flowSpan
   style="fill:#a40000"
   id="flowSpan4434">m</flowSpan> are given.and do not change</flowPara><flowPara
         id="flowPara4426"
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:20px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light'">only the center position of the grid needs to be calculated.Idea: take the camera position, and go the distance <flowSpan
   style="fill:#ce5c00"
   id="flowSpan4436">d</flowSpan> into the camera direction</flowPara><flowPara
         id="flowPara4428"
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:20px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light'">take the requested margin <flowSpan
   style="fill:#a40000"
   id="flowSpan4430">m</flowSpan>, add 1 (to avoid issues because of rounding) and calculate the distance <flowSpan
   style="fill:#ce5c00"
   id="flowSpan4440">d</flowSpan>, the camera might have to the center of the grid:</flowPara><flowPara
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:20px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light'"
         id="flowPara4438"><flowSpan
   style="fill:#f57900"
   id="flowSpan4450">d<flowSpan
   style="font-size:76.74820423%;baseline-shift:sub"
   id="flowSpan4599">diag</flowSpan></flowSpan> = (<flowSpan
   style="fill:#4e9a06"
   id="flowSpan4448">s</flowSpan>*0.5 - (<flowSpan
   style="fill:#cc0000"
   id="flowSpan4442">m</flowSpan>+1)) * sqrt(2)</flowPara></flowRoot>    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:25.76612854px;line-height:125%;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';text-align:start;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="45.515808"
       y="138.61597"
       id="text4452"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4454"
         x="45.515808"
         y="138.61597">Diagonal Case</tspan></text>
    <path
       sodipodi:nodetypes="ccccc"
       inkscape:connector-curvature="0"
       id="path4456"
       d="m 233.90258,589.94486 110.73414,0 -7e-5,111.10001 -110.73405,0 z"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 247.78997,700.67907 0,-110.36841"
       id="path4458"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 261.67747,700.67907 0,-110.36841"
       id="path4460"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4462"
       d="m 275.56498,700.67907 0,-110.36841"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 289.45248,700.67907 0,-110.36841"
       id="path4464"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4466"
       d="m 303.33998,700.67907 0,-110.36841"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4468"
       d="m 317.22749,700.67907 0,-110.36841"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 331.11499,700.67907 0,-110.36841"
       id="path4470"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4472"
       d="m 234.26826,603.83236 110.36842,0"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4474"
       d="m 234.26826,617.71987 110.36842,0"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 234.26826,631.60737 110.36842,0"
       id="path4476"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4478"
       d="m 234.26826,645.49487 110.36842,0"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 234.26826,659.38237 110.36842,0"
       id="path4480"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       d="m 234.26826,673.26987 110.36842,0"
       id="path4482"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path4484"
       d="m 234.26826,687.15738 110.36842,0"
       style="fill:none;fill-opacity:1;stroke:#4e9a06;stroke-width:1.31702745;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
    <path
       sodipodi:nodetypes="cccc"
       inkscape:connector-curvature="0"
       id="path4486"
       d="m 233.67554,703.20737 0,9.4435 20.55351,0 0,-63.17981"
       style="fill:none;fill-rule:evenodd;stroke:#cc0000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:0.99999999, 0.99999999;stroke-dashoffset:0;stroke-opacity:1" />
    <text
       sodipodi:linespacing="125%"
       id="text4488"
       y="725.74231"
       x="248.2664"
       style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:11.78353596px;line-height:125%;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#a40000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       xml:space="preserve"><tspan
         y="725.74231"
         x="248.2664"
         id="tspan4490"
         sodipodi:role="line">Margin m</tspan></text>
    <path
       inkscape:connector-curvature="0"
       id="path4492"
       d="m 257.69771,645.43536 31.27653,0"
       style="fill:none;fill-rule:evenodd;stroke:#f57900;stroke-width:1.74999988;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       sodipodi:nodetypes="cc" />
    <path
       inkscape:connector-curvature="0"
       id="path4494"
       d="m 250.47827,639.46871 a 2.3312576,2.3312576 0 0 0 -2.33143,2.33065 2.3312576,2.3312576 0 0 0 1.33342,2.10374 l -0.87774,0 0,3.44584 8.41279,0 0,-0.83325 1.82491,0.83325 0,-3.44584 -1.82491,0.83325 0,-0.83325 -0.92547,-10e-6 a 2.3312576,2.3312576 0 0 0 1.33124,-2.10373 2.3312576,2.3312576 0 0 0 -2.33142,-2.33064 2.3312576,2.3312576 0 0 0 -2.30555,2.00608 2.3312576,2.3312576 0 0 0 -2.30554,-2.00609 z m 2.30554,2.65706 a 2.3312576,2.3312576 0 0 0 1.30846,1.77718 l -2.61475,0 a 2.3312576,2.3312576 0 0 0 1.30629,-1.77718 z"
       style="fill:#204a87;fill-opacity:1;stroke:#ffffff;stroke-width:0.37952605;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
       inkscape:transform-center-y="17.357632" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:11.78353596px;line-height:125%;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#ce5c00;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="331.17477"
       y="716.15991"
       id="text4496"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4498"
         x="331.17477"
         y="716.15991">Distance To Center d</tspan></text>
    <path
       inkscape:connector-curvature="0"
       id="path4500"
       d="M 301.86318,705.70707 278.34029,647.99265"
       style="fill:#fcaf3e;fill-rule:evenodd;stroke:#f57900;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.00000001, 1.00000001;stroke-dashoffset:0;stroke-opacity:1"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;fill-rule:evenodd;stroke:#4e9a06;stroke-width:0.99999982px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 233.94381,582.5967 0,-6.06412 110.84462,0 0,6.06412"
       id="path4502"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cccc" />
    <text
       sodipodi:linespacing="125%"
       id="text4504"
       y="572.56311"
       x="284.79053"
       style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:11.78353596px;line-height:125%;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';text-align:center;letter-spacing:0px;word-spacing:0px;text-anchor:middle;fill:#4e9a06;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       xml:space="preserve"><tspan
         y="572.56311"
         x="284.79053"
         id="tspan4506"
         sodipodi:role="line">Grid Size s</tspan></text>
    <flowRoot
       style="font-style:normal;font-weight:normal;font-size:33.87701416px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       id="flowRoot4508"
       xml:space="preserve"
       transform="matrix(0.65590209,0,0,0.65590209,31.301728,98.689683)"><flowRegion
         id="flowRegion4510"><rect
           y="572.00848"
           x="39.490036"
           height="134.86583"
           width="1024.2871"
           id="rect4512" /></flowRegion><flowPara
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:16.93850708px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light'"
         id="flowPara4514"><flowSpan
   id="flowSpan4516"
   style="fill:#4e9a06">s</flowSpan> and <flowSpan
   id="flowSpan4518"
   style="fill:#a40000">m</flowSpan> are given.and do not change</flowPara><flowPara
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:16.93850708px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light'"
         id="flowPara4520">only the center position of the grid needs to be calculated.Idea: take the camera position, and go the distance <flowSpan
   id="flowSpan4522"
   style="fill:#ce5c00">d</flowSpan> into the camera direction</flowPara><flowPara
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:16.93850708px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light'"
         id="flowPara4524">take the requested margin <flowSpan
   id="flowSpan4526"
   style="fill:#a40000">m</flowSpan>, add 1 (to avoid issues because of rounding) and calculate the distance <flowSpan
   id="flowSpan4528"
   style="fill:#ce5c00">d</flowSpan>, the camera might have to the center of the grid:</flowPara><flowPara
         id="flowPara4530"
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:16.93850708px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light'"><flowSpan
   id="flowSpan4532"
   style="fill:#f57900">d<flowSpan
   style="font-size:64.99999762%;baseline-shift:sub"
   id="flowSpan4595">aa</flowSpan></flowSpan> = <flowSpan
   id="flowSpan4534"
   style="fill:#4e9a06">s</flowSpan>*0.5 - (<flowSpan
   id="flowSpan4536"
   style="fill:#cc0000">m</flowSpan>+1)</flowPara></flowRoot>    <text
       sodipodi:linespacing="125%"
       id="text4538"
       y="455.85028"
       x="44.452465"
       style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:25.76612854px;line-height:125%;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';text-align:start;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       xml:space="preserve"><tspan
         y="455.85028"
         x="44.452465"
         id="tspan4540"
         sodipodi:role="line">Axis Aligned Case</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:25.76612854px;line-height:125%;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';text-align:start;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       x="44.452465"
       y="752.31799"
       id="text4546"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan4548"
         x="44.452465"
         y="752.31799">Interpolating</tspan></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot4550"
       style="font-style:normal;font-weight:normal;font-size:33.87701416px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       transform="matrix(0.65590209,0,0,0.65590209,31.301728,388.0964)"><flowRegion
         id="flowRegion4552"><rect
           id="rect4554"
           width="1005.5771"
           height="135.31187"
           x="39.490036"
           y="572.00848" /></flowRegion><flowPara
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:16.93850708px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';fill:#000000"
         id="flowPara4572">When a normalized vactor is axis aligned, each component has the length 1.</flowPara><flowPara
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:16.93850708px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';fill:#000000"
         id="flowPara4589">If it's diagonal, each axis has the length 1/sqrt(2)</flowPara><flowPara
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:16.93850708px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';fill:#000000"
         id="flowPara4591">So we calculate the optimal distance by dividing the axis aligned componentwize through the camera direction:</flowPara><flowPara
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:16.93850708px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';fill:#000000"
         id="flowPara4609">center_of_grid = camera_pos + vec3(<flowSpan
   style="fill:#ce5c00"
   id="flowSpan4605">d</flowSpan><flowSpan
   style="font-size:64.99999762%;baseline-shift:sub;fill:#ce5c00"
   id="flowSpan4603">aa</flowSpan> * f)/ (max(abs(camera_dir), 1/sqrt(2)))) * camera_dir</flowPara><flowPara
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:16.93850708px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';fill:#000000"
         id="flowPara4252">This way, it's unchanged for the axis aligned case, as every component will have the length 1, and it will be equal to the diagonal cas, if the direction is diagonal, as every component has the length 1/sqrt(2)</flowPara></flowRoot>    <text
       sodipodi:linespacing="125%"
       id="text4611"
       y="49.102295"
       x="45.515808"
       style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:25.76612854px;line-height:125%;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light';text-align:start;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       xml:space="preserve"><tspan
         y="49.102295"
         x="45.515808"
         id="tspan4613"
         sodipodi:role="line">Casccaded Grids</tspan></text>
    <flowRoot
       transform="matrix(0.5555001,0,0,0.5555001,32.957061,-127.84371)"
       style="font-style:normal;font-weight:normal;font-size:40px;line-height:125%;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       id="flowRoot4615"
       xml:space="preserve"><flowRegion
         id="flowRegion4617"><rect
           y="357.27625"
           x="44.547726"
           height="67.816322"
           width="1175.3055"
           id="rect4619" /></flowRegion><flowPara
         id="flowPara4637"
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:20px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light'">To avoid jittering artifacts while the camera is moved. The grid position is rounded to be a multiple of the cell size.</flowPara><flowPara
         style="font-style:normal;font-variant:normal;font-weight:200;font-stretch:normal;font-size:20px;font-family:'DejaVu Sans';-inkscape-font-specification:'DejaVu Sans Ultra-Light'"
         id="flowPara4685">But how to position the grid, so the largest possible space in front of the camera is used?</flowPara></flowRoot>  </g>
</svg>
